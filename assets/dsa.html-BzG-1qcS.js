import{_ as a,c as t,a as s,o as n}from"./app-BVwHBcsb.js";const i={};function r(o,e){return n(),t("div",null,e[0]||(e[0]=[s(`<div style="text-align:center;"><img src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/246.png" alt="Larvitar" height="200"></div><h2 id="digital-subtraction-algorithm-dsa" tabindex="-1"><a class="header-anchor" href="#digital-subtraction-algorithm-dsa"><span>Digital Subtraction Algorithm (DSA)</span></a></h2><p>The Digital Subtraction Algorithm (DSA) is used in X-ray angiography (XA) to subtract a reference mask (e.g., pre-contrast image) from a contrast image to highlight the contrast agent (e.g., for vascular visualization). The DSA operation enhances the image for better analysis by removing the background.</p><p>This module implements various subtraction methods as per the DICOM standard for XA images.</p><h3 id="dsa-methods-supported" tabindex="-1"><a class="header-anchor" href="#dsa-methods-supported"><span>DSA Methods Supported</span></a></h3><p>The following DSA mask operations are supported:</p><ul><li><strong>AVG_SUB:</strong> Average Subtraction</li><li><strong>TID:</strong> Time Interval Differencing</li><li><strong>REV_TID:</strong> Reverse Time Interval Differencing</li></ul><h3 id="related-dicom-tags" tabindex="-1"><a class="header-anchor" href="#related-dicom-tags"><span>Related DICOM Tags</span></a></h3><ul><li><strong>x00286101 - DSA Mask Operation:</strong> Specifies the mask operation to be performed (AVG_SUB, TID, REV_TID)</li><li><strong>x00286110 - Frame Numbers:</strong> Specifies the frame numbers used for mask operations.</li><li><strong>x00286114 - Mask Sub-pixel Shift:</strong> Specifies any fractional pixel shifts that need to be applied during mask subtraction (vertical and horizontal).</li><li><strong>x00286112 - Contrast Frame Averaging:</strong> Specifies the number of contrast frames to average together before applying the subtraction.</li><li><strong>x00286102 - Frame Range for Mask Operation:</strong> Defines the range of frames over which the mask operation is valid.</li></ul><p>See <a href="https://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.6.10.html#sect_C.7.6.10" target="_blank" rel="noopener noreferrer">Standard Dicom DSA</a></p><h2 id="api-reference" tabindex="-1"><a class="header-anchor" href="#api-reference"><span>API Reference</span></a></h2><h3 id="applydsa" tabindex="-1"><a class="header-anchor" href="#applydsa"><span><code>applyDSA</code></span></a></h3><p>This function checks the metadata (0028,6101) to determine the type of DSA mask operation to apply (e.g., AVG_SUB, TID, REV_TID).</p><h4 id="syntax" tabindex="-1"><a class="header-anchor" href="#syntax"><span>Syntax</span></a></h4><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token function">applyDSA</span><span class="token punctuation">(</span></span>
<span class="line">  multiframeSerie<span class="token operator">:</span> Series<span class="token punctuation">,</span></span>
<span class="line">  index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span></span>
<span class="line">  inputMaskSubPixelShift<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">//pixel shift applied to the mask</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="parameters" tabindex="-1"><a class="header-anchor" href="#parameters"><span>Parameters</span></a></h4><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>multiFrameSerie</code></td><td>Series</td><td>multiframe serie to apply DSA</td></tr><tr><td><code>index</code></td><td>number</td><td>index of the frame to apply DSA</td></tr><tr><td><code>inputMaskSubPixelShift</code></td><td>number[]</td><td>pixel shift applied to the mask</td></tr></tbody></table><h4 id="returns" tabindex="-1"><a class="header-anchor" href="#returns"><span>Returns</span></a></h4><p><code>number[] </code> – Pixel data of the frame after DSA.</p><h3 id="applydsashift" tabindex="-1"><a class="header-anchor" href="#applydsashift"><span><code>applyDSAShift</code></span></a></h3><p>Applies DSA with pixel shift and updates the image to reflect the changes.</p><h4 id="syntax-1" tabindex="-1"><a class="header-anchor" href="#syntax-1"><span>Syntax</span></a></h4><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token function">applyDSAShift</span><span class="token punctuation">(</span></span>
<span class="line">  elementId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span></span>
<span class="line">  multiFrameSerie<span class="token operator">:</span> Series<span class="token punctuation">,</span></span>
<span class="line">  frameId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span></span>
<span class="line">  inputMaskSubPixelShift<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">//pixel shift applied to the mask</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="parameters-1" tabindex="-1"><a class="header-anchor" href="#parameters-1"><span>Parameters</span></a></h4><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>elementId</code></td><td>string</td><td>elementId of the viewer</td></tr><tr><td><code>multiFrameSerie</code></td><td>Series</td><td>multiframe serie to apply DSA</td></tr><tr><td><code>frameId</code></td><td>number</td><td>index of the frame to apply DSA</td></tr><tr><td><code>inputMaskSubPixelShift</code></td><td>number[]</td><td>pixel shift applied to the mask</td></tr></tbody></table><h4 id="returns-1" tabindex="-1"><a class="header-anchor" href="#returns-1"><span>Returns</span></a></h4><p><code>void</code> – Triggers <code>updateImage</code> and <code>redrawImage</code></p><h2 id="internal-functions" tabindex="-1"><a class="header-anchor" href="#internal-functions"><span>Internal Functions</span></a></h2><h4 id="avgsubmask" tabindex="-1"><a class="header-anchor" href="#avgsubmask"><span><code>avgSubMask</code></span></a></h4><p>Applies an average subtraction mask to the contrast frame using the specified metadata.</p><h4 id="tidmask" tabindex="-1"><a class="header-anchor" href="#tidmask"><span><code>tidMask</code></span></a></h4><p>Applies Time Interval Differencing (TID) to subtract a reference mask frame based on the TID offset to the current contrast frame.</p><h4 id="revtidmask" tabindex="-1"><a class="header-anchor" href="#revtidmask"><span><code>revTidMask</code></span></a></h4><p>Applies a reverse Time Interval Differencing (revTID) to subtract multiple contrast frames from the reference frame. Similar to tidMask, but the subtraction is applied across multiple frames, with the frame difference increasing for each subsequent frame. Handles pixel-wise subtraction in reverse order</p><p><br></p><div style="text-align:center;"><img src="https://press.r1-it.storage.cloud.it/logo_trasparent.png" alt="D/Vision Lab" height="200"></div>`,36)]))}const l=a(i,[["render",r],["__file","dsa.html.vue"]]),d=JSON.parse('{"path":"/api/modules/postProcessing/dsa.html","title":"","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Digital Subtraction Algorithm (DSA)","slug":"digital-subtraction-algorithm-dsa","link":"#digital-subtraction-algorithm-dsa","children":[{"level":3,"title":"DSA Methods Supported","slug":"dsa-methods-supported","link":"#dsa-methods-supported","children":[]},{"level":3,"title":"Related DICOM Tags","slug":"related-dicom-tags","link":"#related-dicom-tags","children":[]}]},{"level":2,"title":"API Reference","slug":"api-reference","link":"#api-reference","children":[{"level":3,"title":"applyDSA","slug":"applydsa","link":"#applydsa","children":[]},{"level":3,"title":"applyDSAShift","slug":"applydsashift","link":"#applydsashift","children":[]}]},{"level":2,"title":"Internal Functions","slug":"internal-functions","link":"#internal-functions","children":[]}],"git":{"updatedTime":1770304264000,"contributors":[{"name":"Laura Borghesi","username":"Laura Borghesi","email":"146220917+laura-borghesi-lum00n@users.noreply.github.com","commits":1,"url":"https://github.com/Laura Borghesi"}]},"filePathRelative":"api/modules/postProcessing/dsa.md","excerpt":"<div style=\\"text-align: center;\\">\\n    <img src=\\"https://assets.pokemon.com/assets/cms2/img/pokedex/full/246.png\\" alt=\\"Larvitar\\" height=\\"200\\">\\n</div>\\n<h2>Digital Subtraction Algorithm (DSA)</h2>\\n<p>The Digital Subtraction Algorithm (DSA) is used in X-ray angiography (XA) to subtract a reference mask (e.g., pre-contrast image) from a contrast image to highlight the contrast agent (e.g., for vascular visualization). The DSA operation enhances the image for better analysis by removing the background.</p>"}');export{l as comp,d as data};
